<mat-card >
  <mat-card-header>
    <mat-card-title><h5 class="mb-2">Perfil de usuario</h5></mat-card-title>
    <mat-card-subtitle> <i>Su empresa: <strong>{{currentUser.NOMBRE_CLIENTE}}</strong></i></mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <ul class="list-group">
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <form [formGroup]="nombreForm">
        <i *ngIf="!showN">Nombre: <strong>{{currentUser.NOMBRE}}</strong></i>
          <div *ngIf="showN" class="form-group">
            <mat-form-field>
              <input matInput type="text" formControlName="nombre" placeholder="Nombre"/>
              <mat-error *ngIf="n.nombre.hasError('required') && (n.nombre.dirty || n.nombre.touched)" >
                Complete este campo
              </mat-error>
              <mat-error *ngIf="n.nombre.hasError('minlength')" >
                Debe tener 4 caracteres como mínimo
              </mat-error>
             </mat-form-field>
          </div>

        </form>
        <div class="float-right">
          <a class="nav-pills" *ngIf="!showN" (click)="toggleN();">
            <mat-icon class="mat-18">edit</mat-icon></a>
          <a class="nav-pills" *ngIf="showN && !loadingN" (click)="onSubmit('n');">
            <mat-icon class="mat-18">save</mat-icon></a>
          <div *ngIf="loadingN" class="spinner-grow " role="status">
            <span class="sr-only">Loading...</span>
          </div>
        </div>
      </li>
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <form [formGroup]="emailForm">
          <i *ngIf="!showE">Email: <strong>{{currentUser.EMAIL}}</strong></i>
          <div *ngIf="showE" class="form-group">
            <mat-form-field>
              <input matInput type="text" formControlName="email" placeholder="Correo Electrónico"/>
              <mat-error *ngIf="e.email.hasError('required') && (e.email.dirty || e.email.touched)" >
                Complete este campo
              </mat-error>
              <mat-error *ngIf="e.email.hasError('email')" >
                Correo Electrónico inválido
              </mat-error>
            </mat-form-field>
          </div>
        </form>
        <div class="float-right">
          <a class="nav-pills" *ngIf="!showE" (click)="toggleE();">
            <mat-icon class="mat-18">edit</mat-icon></a>
          <a class="nav-pills" *ngIf="showE && !loadingE" (click)="onSubmit('e');">
            <mat-icon class="mat-18">save</mat-icon></a>
          <div *ngIf="loadingE" class="spinner-grow float-right" role="status">
            <span class="sr-only">Loading...</span>
          </div>
        </div>
      </li>
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <i>Usuario: <strong>{{currentUser.USUARIO}}</strong></i>
      </li>
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <form [formGroup]="passForm">
           <i *ngIf="!showP">Contraseña: <strong>********</strong></i>
          <div *ngIf="showP" class="form-group">
            <mat-form-field  class="block">
              <input matInput type="password" formControlName="password" placeholder="Nueva Contraseña"/>
              <mat-error *ngIf="p.password.hasError('required') && (p.password.dirty ||p.password.touched)" >
                Complete este campo
              </mat-error>
              <mat-error *ngIf="p.password.hasError('minlength')" >
                Debe tener 4 caracteres como mínimo
              </mat-error>
            </mat-form-field>
            <br>
            <mat-form-field>
              <input matInput type="password" formControlName="confirmPass" placeholder="Confirmar Contraseña"/>
              <mat-error *ngIf="p.confirmPass.hasError('required') && (p.confirmPass.dirty ||p.confirmPass.touched)" >
                Complete este campo
              </mat-error>
              <mat-error *ngIf="p.confirmPass.hasError('notsame')" >
                Las Contraseñas no son iguales
              </mat-error>
            </mat-form-field>
          </div>

        </form>
        <div class="float-right">
          <a class="nav-pills" *ngIf="!showP" (click)="toggleP()">
            <mat-icon class="mat-18">edit</mat-icon></a>
          <a class="nav-pills" *ngIf="showP && !loadingP" (click)="showEP = false;onSubmitPass();">
            <mat-icon class="mat-18">save</mat-icon></a>
          <div *ngIf="loadingP" class="spinner-grow float-right" role="status">
            <span class="sr-only">Loading...</span>
          </div>
        </div>
      </li>
    </ul>
  </mat-card-content>
  <mat-card-actions>




  </mat-card-actions>
</mat-card>
